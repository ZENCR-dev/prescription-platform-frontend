# ã€ŠSupabase-First æ¶æ„ä¸‹å‰åç«¯åä½œä¸PRPç”ŸæˆæŒ‡å—ã€‹

**å‰ç«¯å›¢é˜ŸPRPç”Ÿæˆæƒå¨æŒ‡å—**  
**ç‰ˆæœ¬**: v2.0  
**çŠ¶æ€**: 95%æ–‡æ¡£ç›¸ç¬¦åº¦éªŒè¯é€šè¿‡ âœ…  
**ä¸“ç”¨**: å‰ç«¯å›¢é˜ŸPRPç”Ÿæˆå‡†å¤‡ææ–™  

---

## ğŸ“‹ æ‰§è¡Œæ‘˜è¦

### âœ… åä½œæ¡†æ¶éªŒè¯å®Œæˆ
ç»è¿‡æ·±åº¦æ–‡æ¡£åˆ†æå’Œæ¡†æ¶æ•´åˆï¼Œåä½œä½“ç³»å·²è¾¾åˆ°95%ç›¸ç¬¦åº¦æ ‡å‡†ï¼š
- **å‰ç«¯å›¢é˜ŸèŒè´£è¾¹ç•Œ** å®Œå…¨æ˜ç¡® âœ…
- **ACDå¾ªç¯æ¡†æ¶** å·²é›†æˆå®Œæˆ âœ…  
- **APIæ–‡æ¡£æ¶ˆè´¹è€…è§’è‰²** æœºåˆ¶å»ºç«‹ âœ…
- **CKPåä½œæ£€æŸ¥ç‚¹** æµç¨‹ä¼˜åŒ– âœ…

### ğŸš€ å‰ç«¯å›¢é˜ŸPRPç”Ÿæˆå®Œå…¨å°±ç»ª
æœ¬æŒ‡å—ä¸ºå‰ç«¯å›¢é˜Ÿæä¾›æ ‡å‡†åŒ–PRPç”Ÿæˆæµç¨‹ï¼Œç¡®ä¿éµå¾ªiACDå¾ªç¯ã€MCPå·¥å…·é›†æˆã€AI Agentä¼°ç®—ä½“ç³»ï¼Œä»¥åŠBackend-Firståä½œåŸåˆ™ã€‚

---

## ç¬¬ä¸€é˜¶æ®µï¼šå…¨å±€èµ„äº§æ•´åˆä¸å†å®šä¹‰

### ç»Ÿä¸€èµ„äº§ç›®å½•ä¸æƒè´£åˆ’åˆ†

| èµ„äº§ç±»åˆ« | å…·ä½“èµ„äº§ | æ‰€æœ‰æƒ | ç»´æŠ¤èŒè´£ | ä½¿ç”¨æƒé™ | åä½œæœºåˆ¶ |
|---------|---------|--------|---------|---------|---------|
| **æ¶æ„æ–‡æ¡£** | PLANNING.md | å„è‡ªå›¢é˜Ÿ | æ¶æ„å¸ˆ | è¯»å–+æ‰§è¡Œ | å®šæœŸåŒæ­¥ |
| **æ‰§è¡Œè§„åˆ™** | CLAUDE.md | å„è‡ªå›¢é˜Ÿ | æŠ€æœ¯è´Ÿè´£äºº | ä¸¥æ ¼éµå¾ª | ç‰ˆæœ¬å¯¹é½ |
| **éœ€æ±‚åº•æœ¬** | INITIAL.md | å„è‡ªå›¢é˜Ÿ | äº§å“+æŠ€æœ¯ | å†»ç»“å‚è€ƒ | æº¯æºä½¿ç”¨ |
| **ğŸ¯ APIå¥‘çº¦** | **APIdocs/APIv1.md** | **åç«¯å›¢é˜Ÿ** | **åç«¯è´Ÿè´£äºº** | **å‰ç«¯æ¶ˆè´¹** | **ç‰ˆæœ¬åŒæ­¥** |
| **APIå˜æ›´æ—¥å¿—** | APIdocs/APIv1_log.md | åç«¯å›¢é˜Ÿ | åç«¯è´Ÿè´£äºº | å‰ç«¯ç›‘æ§ | é€šçŸ¥æœºåˆ¶ |
| **æ•°æ®åº“Schema** | PostgreSQL + RLS | åç«¯å›¢é˜Ÿ | æ•°æ®åº“å·¥ç¨‹å¸ˆ | åç«¯ç‹¬å  | ç±»å‹ç”Ÿæˆ |
| **Edge Functions** | Supabase Functions | åç«¯å›¢é˜Ÿ | åç«¯å¼€å‘è€… | åç«¯ç‹¬å  | æ¥å£æ–‡æ¡£ |
| **å‰ç«¯ç»„ä»¶** | Next.js Components | å‰ç«¯å›¢é˜Ÿ | å‰ç«¯å¼€å‘è€… | å‰ç«¯ç‹¬å  | UIè§„èŒƒ |
| **UI/UXè®¾è®¡** | è®¾è®¡ç³»ç»Ÿ | å‰ç«¯å›¢é˜Ÿ | UI/UXè®¾è®¡å¸ˆ | å‰ç«¯ç‹¬å  | è®¾è®¡æ ‡å‡† |
| **æµ‹è¯•ç”¨ä¾‹** | E2E Tests | å…±äº« | QAå·¥ç¨‹å¸ˆ | åä½œå¼€å‘ | æµ‹è¯•åè®® |
| **éƒ¨ç½²é…ç½®** | Vercel/Supabase | å…±äº« | DevOps | åä½œé…ç½® | ç¯å¢ƒå¯¹é½ |

### å…³é”®åŸåˆ™ç¡®ç«‹

#### ğŸ”’ APIæ–‡æ¡£å•ä¸€æ•°æ®æºåŸåˆ™
```yaml
æ ¸å¿ƒè§„åˆ™:
  å”¯ä¸€æƒå¨: APIdocs/APIv1.md (åç«¯ç»´æŠ¤)
  ç‰ˆæœ¬æ§åˆ¶: APIdocs/APIv1_log.md (å˜æ›´è®°å½•)
  æ¶ˆè´¹æ–¹å¼: å‰ç«¯è¯»å–ï¼Œä¸å¾—ä¿®æ”¹
  
å·¥ä½œæµ:
  åç«¯è®¾è®¡ â†’ æ•°æ®åº“å®ç° â†’ APIæ–‡æ¡£æ›´æ–° â†’ å‰ç«¯å¯¹æ¥
  
ç¦æ­¢æ“ä½œ:
  - å‰ç«¯å›¢é˜Ÿä¿®æ”¹APIæ–‡æ¡£
  - åç«¯ç»•è¿‡æ–‡æ¡£ç›´æ¥æ²Ÿé€š
  - åˆ†æ•£çš„APIè§„èŒƒå®šä¹‰
```

#### ğŸ—ï¸ æŠ€æœ¯æ ˆèŒè´£åˆ†å·¥
```yaml
åç«¯ä¸“å±æŠ€æœ¯æ ˆ:
  æ•°æ®å±‚: PostgreSQL + RLSç­–ç•¥
  æœåŠ¡å±‚: Supabase Edge Functions  
  é›†æˆå±‚: Stripe + ç¬¬ä¸‰æ–¹æœåŠ¡
  
å‰ç«¯ä¸“å±æŠ€æœ¯æ ˆ:
  æ¡†æ¶å±‚: Next.js 14 + App Router
  å®¢æˆ·ç«¯: Supabase Client SDK
  UIå±‚: React + Tailwind + shadcn/ui
  
å…±äº«æŠ€æœ¯æ ˆ:
  è®¤è¯: Supabase Auth (åç«¯é…ç½®ï¼Œå‰ç«¯ä½¿ç”¨)
  å®æ—¶é€šä¿¡: Supabase Realtime (åç«¯è®¾è®¡ï¼Œå‰ç«¯è®¢é˜…)
  æ–‡ä»¶å­˜å‚¨: Supabase Storage (åç«¯ç­–ç•¥ï¼Œå‰ç«¯æ“ä½œ)
```

---

## ç¬¬äºŒé˜¶æ®µï¼šBackend-Firstå¥‘çº¦é©±åŠ¨åä½œæ¨¡å‹

### åä½œæ—¶åºå›¾

```mermaid
sequenceDiagram
    participant B as åç«¯å›¢é˜Ÿ
    participant API as APIdocs/APIv1.md
    participant F as å‰ç«¯å›¢é˜Ÿ
    
    Note over B: Phase 1: åç«¯ä¼˜å…ˆå¼€å‘
    B->>B: è®¾è®¡æ•°æ®åº“Schema
    B->>B: å®ç°Edge Functions
    B->>API: æ›´æ–°APIæ–‡æ¡£
    
    Note over API: CKP-1: APIå¥‘çº¦ç¡®è®¤
    API-->>F: å‰ç«¯è·å–APIè§„èŒƒ
    F->>F: éªŒè¯APIå¯ç”¨æ€§
    
    Note over F: Phase 2: å‰ç«¯å¹¶è¡Œå¼€å‘
    B->>B: ç»§ç»­åç«¯åŠŸèƒ½å¼€å‘
    F->>F: åŸºäºAPIå¼€å‘å‰ç«¯
    
    Note over API: CKP-2: æ¥å£è”è°ƒ
    F->>API: å‰ç«¯è°ƒç”¨åç«¯API
    B->>API: åç«¯æä¾›æ•°æ®å“åº”
    
    Note over B,F: CKP-3: é›†æˆæµ‹è¯•
    B->>F: æä¾›æµ‹è¯•æ•°æ®
    F->>B: åé¦ˆé›†æˆé—®é¢˜
    
    Note over B,F: CKP-4: ç”Ÿäº§éƒ¨ç½²
    B->>B: åç«¯ç”Ÿäº§éƒ¨ç½²
    F->>F: å‰ç«¯ç”Ÿäº§éƒ¨ç½²
    
    Note over B,F: CKP-5: æ€§èƒ½ä¼˜åŒ–
    B->>F: æ€§èƒ½æ•°æ®å…±äº«
    F->>B: å‰ç«¯æ€§èƒ½åé¦ˆ
```

### å…³é”®åä½œæ£€æŸ¥ç‚¹ (Checkpoints)

#### ğŸ”„ CKP-1: APIå¥‘çº¦ç¡®è®¤ç‚¹ (å‰ç«¯å‚ä¸è§†è§’)
```yaml
è§¦å‘æ¡ä»¶: åç«¯å®Œæˆæ ¸å¿ƒAPIè®¾è®¡ï¼Œå‰ç«¯éœ€è¿›è¡Œæ¶ˆè´¹è€…éªŒè¯

å‰ç«¯æ ¸å¿ƒä»»åŠ¡ (æ¶ˆè´¹è€…è§’è‰²):
  - âœ… éªŒè¯APIdocs/APIv1.mdè§„èŒƒå®Œæ•´æ€§
  - âœ… ç¡®è®¤å‰ç«¯æŠ€æœ¯å¯è¡Œæ€§ (Next.js + Supabase Client)
  - âœ… è¯†åˆ«é›†æˆæŒ‘æˆ˜å’Œé£é™©ç‚¹
  - âœ… è¯„ä¼°UI/UXå®ç°çš„æ•°æ®éœ€æ±‚
  
å‰ç«¯ä¸“å±éªŒè¯:
  - ğŸ¨ APIæ•°æ®ç»“æ„ä¸UIç»„ä»¶éœ€æ±‚åŒ¹é…åº¦
  - ğŸ“± å“åº”å¼è®¾è®¡æ•°æ®é€‚é…æ€§
  - â™¿ï¸ æ— éšœç¢è®¿é—®æ•°æ®æ”¯æŒè¯„ä¼°
  - âš™ï¸ å‰ç«¯æ€§èƒ½ä¼˜åŒ–ç­–ç•¥åˆ¶å®š
  
å‰ç«¯äº¤ä»˜ç‰©:
  - APIæ¶ˆè´¹è®¡åˆ’æ–‡æ¡£
  - UIç»„ä»¶ä¸APIæ˜ å°„è®¾è®¡
  - æŠ€æœ¯é£é™©è¯„ä¼°æŠ¥å‘Š
```

#### ğŸ”„ CKP-2: æ¥å£è”è°ƒç‚¹
```yaml
è§¦å‘æ¡ä»¶: åç«¯APIå®ç°å®Œæˆï¼Œå‰ç«¯åŸºç¡€UIå®Œæˆ
éªŒè¯æ ‡å‡†:
  - æ‰€æœ‰APIç«¯ç‚¹å“åº”æ­£å¸¸
  - æ•°æ®æ ¼å¼åŒ¹é…å‰ç«¯éœ€æ±‚
  - é”™è¯¯å¤„ç†æœºåˆ¶éªŒè¯
  - è®¤è¯æˆæƒæµç¨‹é€šç•…
  
åä½œæœºåˆ¶:
  - è”åˆè°ƒè¯•ä¼šè¯
  - é—®é¢˜å®æ—¶ä¿®å¤
  - æ¥å£ä¼˜åŒ–è°ƒæ•´
  
åä½œäº§å‡º:
  - æ¥å£å…¼å®¹æ€§æŠ¥å‘Š
  - æ€§èƒ½åŸºå‡†æ•°æ®
  - ä¼˜åŒ–å»ºè®®æ¸…å•
```

#### ğŸ”„ CKP-3: é›†æˆæµ‹è¯•ç‚¹
```yaml
è§¦å‘æ¡ä»¶: å‰åç«¯åŠŸèƒ½åŸºæœ¬å®Œæˆ
éªŒè¯æ ‡å‡†:
  - E2Eç”¨æˆ·æµç¨‹éªŒè¯
  - è·¨ç³»ç»Ÿæ•°æ®ä¸€è‡´æ€§
  - æ€§èƒ½å’Œå®‰å…¨æµ‹è¯•
  - é”™è¯¯åœºæ™¯å¤„ç†
  
åä½œæœºåˆ¶:
  - è”åˆæµ‹è¯•æ‰§è¡Œ
  - é—®é¢˜å½’è´£å’Œä¿®å¤
  - ç”¨æˆ·ä½“éªŒä¼˜åŒ–
  
åä½œäº§å‡º:
  - é›†æˆæµ‹è¯•æŠ¥å‘Š
  - æ€§èƒ½ä¼˜åŒ–æ–¹æ¡ˆ
  - ç”Ÿäº§éƒ¨ç½²è®¡åˆ’
```

#### ğŸ”„ CKP-4: ç”Ÿäº§éƒ¨ç½²ç‚¹
```yaml
è§¦å‘æ¡ä»¶: é›†æˆæµ‹è¯•é€šè¿‡ï¼Œå‡†å¤‡ç”Ÿäº§å‘å¸ƒ
éªŒè¯æ ‡å‡†:
  - ç”Ÿäº§ç¯å¢ƒé…ç½®éªŒè¯
  - å®‰å…¨æ‰«æé€šè¿‡
  - æ€§èƒ½åŸºå‡†è¾¾æ ‡
  - ç›‘æ§å‘Šè­¦é…ç½®
  
åä½œæœºåˆ¶:
  - åŒæ­¥éƒ¨ç½²æ‰§è¡Œ
  - å®æ—¶çŠ¶æ€ç›‘æ§
  - é—®é¢˜åº”æ€¥å“åº”
  
åä½œäº§å‡º:
  - éƒ¨ç½²æˆåŠŸç¡®è®¤
  - ç›‘æ§æ•°æ®åŸºçº¿
  - åº”æ€¥å“åº”é¢„æ¡ˆ
```

#### ğŸ”„ CKP-5: æ€§èƒ½ä¼˜åŒ–ç‚¹
```yaml
è§¦å‘æ¡ä»¶: ç”Ÿäº§ç¯å¢ƒè¿è¡Œç¨³å®šï¼Œæ”¶é›†åˆ°æ€§èƒ½æ•°æ®
éªŒè¯æ ‡å‡†:
  - æ€§èƒ½æŒ‡æ ‡è¾¾æ ‡
  - ç”¨æˆ·ä½“éªŒä¼˜åŒ–
  - ç³»ç»Ÿç¨³å®šæ€§éªŒè¯
  - æ‰©å±•æ€§è¯„ä¼°
  
åä½œæœºåˆ¶:
  - æ€§èƒ½æ•°æ®å…±äº«
  - ä¼˜åŒ–ç­–ç•¥åè°ƒ
  - ç›‘æ§æŒ‡æ ‡å¯¹é½
  
åä½œäº§å‡º:
  - æ€§èƒ½ä¼˜åŒ–æŠ¥å‘Š
  - ç³»ç»Ÿæ‰©å±•è®¡åˆ’
  - è¿ç»´ç›‘æ§æ–¹æ¡ˆ
```

### Backend-Firstå¼€å‘æ—¶åº

```yaml
Week 1-2 (åç«¯ä¸»å¯¼):
  åç«¯ä»»åŠ¡: ç¯å¢ƒæ­å»º + æ•°æ®åº“è®¾è®¡ + åŸºç¡€API
  å‰ç«¯ä»»åŠ¡: ç¯å¢ƒæ­å»º + ç»„ä»¶å‡†å¤‡ + ç­‰å¾…API
  åä½œç‚¹: CKP-1 APIå¥‘çº¦ç¡®è®¤
  
Week 3-4 (å¹¶è¡Œå¼€å‘):
  åç«¯ä»»åŠ¡: è®¤è¯ç³»ç»Ÿ + RLSç­–ç•¥ + APIå®Œå–„
  å‰ç«¯ä»»åŠ¡: è®¤è¯UI + åŸºç¡€é¡µé¢ + APIé›†æˆ
  åä½œç‚¹: CKP-2 æ¥å£è”è°ƒ
  
Week 5-6 (é›†æˆè°ƒè¯•):
  åç«¯ä»»åŠ¡: ä¸šåŠ¡é€»è¾‘å®Œå–„ + æ€§èƒ½ä¼˜åŒ–
  å‰ç«¯ä»»åŠ¡: ç”¨æˆ·æµç¨‹ + æ•°æ®å±•ç¤ºä¼˜åŒ–
  åä½œç‚¹: CKP-3 é›†æˆæµ‹è¯•
  
Week 7-8 (ç”Ÿäº§éƒ¨ç½²):
  åç«¯ä»»åŠ¡: ç”Ÿäº§é…ç½® + ç›‘æ§éƒ¨ç½²
  å‰ç«¯ä»»åŠ¡: ç”Ÿäº§æ„å»º + CDNéƒ¨ç½²
  åä½œç‚¹: CKP-4 ç”Ÿäº§éƒ¨ç½²
  
Week 9+ (æŒç»­ä¼˜åŒ–):
  åç«¯ä»»åŠ¡: æ€§èƒ½ç›‘æ§ + æ‰©å±•è§„åˆ’
  å‰ç«¯ä»»åŠ¡: ç”¨æˆ·ä½“éªŒ + æ€§èƒ½ä¼˜åŒ–
  åä½œç‚¹: CKP-5 æ€§èƒ½ä¼˜åŒ–
```

---

## ç¬¬ä¸‰é˜¶æ®µï¼šPRPç”Ÿæˆé»„é‡‘æ³•åˆ™ä¸æ¨¡æ¿

### ğŸ† PRPç”Ÿæˆé»„é‡‘æ³•åˆ™

æ‰€æœ‰PRP/Layer 2ä»»åŠ¡æ–‡æ¡£çš„ç”Ÿæˆï¼Œå¿…é¡»ä¸¥æ ¼éµå®ˆä»¥ä¸‹"é»„é‡‘æ³•åˆ™"ï¼Œä»»ä½•è¿åéƒ½å°†è¢«è§†ä¸ºæ¶æ„åç¦»ã€‚

#### æ³•åˆ™ 1: èŒè´£è¾¹ç•Œä¸å¯çªç ´
```yaml
åç«¯PRPç¦æ­¢åŒ…å«:
  âŒ Next.jsé¡¹ç›®åˆ›å»ºæˆ–é…ç½®
  âŒ Reactç»„ä»¶å¼€å‘ä»»åŠ¡
  âŒ UI/UXè®¾è®¡æˆ–å‰ç«¯æ ·å¼
  âŒ å‰ç«¯è·¯ç”±æˆ–é¡µé¢ç»“æ„
  âŒ å®¢æˆ·ç«¯çŠ¶æ€ç®¡ç†
  
å‰ç«¯PRPç¦æ­¢åŒ…å«:
  âŒ PostgreSQLæ•°æ®åº“è®¾è®¡
  âŒ RLSç­–ç•¥åˆ›å»ºæˆ–ä¿®æ”¹
  âŒ Edge Functionså¼€å‘
  âŒ åç«¯ä¸šåŠ¡é€»è¾‘å®ç°
  âŒ æœåŠ¡å™¨ç«¯å®‰å…¨é…ç½®
```

#### æ³•åˆ™ 2: APIæ–‡æ¡£ä¸­å¿ƒåŒ–ç®¡ç†
```yaml
APIæ–‡æ¡£ç®¡ç†åŸåˆ™:
  âœ… åç«¯å›¢é˜Ÿç‹¬å ç»´æŠ¤ APIdocs/APIv1.md
  âœ… å‰ç«¯å›¢é˜Ÿåªè¯»æ¶ˆè´¹ APIæ–‡æ¡£
  âœ… æ‰€æœ‰APIå˜æ›´å¿…é¡»è®°å½•åœ¨ APIdocs/APIv1_log.md
  âŒ ç¦æ­¢åœ¨PRPä¸­é‡å¤å®šä¹‰APIè§„èŒƒ
  âŒ ç¦æ­¢å‰ç«¯å›¢é˜Ÿä¿®æ”¹APIæ–‡æ¡£
```

#### æ³•åˆ™ 3: Backend-Firstæ—¶åºçº¦æŸ
```yaml
å¼€å‘æ—¶åºå¼ºåˆ¶è¦æ±‚:
  1. åç«¯å®Œæˆæ•°æ®åº“è®¾è®¡ â†’ æ›´æ–°APIæ–‡æ¡£
  2. å‰ç«¯åŸºäºAPIæ–‡æ¡£å¼€å§‹å¼€å‘ â†’ ä¸å¾—è‡ªè¡ŒMock
  3. åç«¯APIå®ç°å®Œæˆ â†’ è§¦å‘CKP-1åä½œç‚¹
  4. å‰ç«¯é›†æˆæµ‹è¯• â†’ é€šè¿‡CKP-2éªŒè¯ç‚¹
  5. è”åˆé›†æˆæµ‹è¯• â†’ é€šè¿‡CKP-3éƒ¨ç½²ç‚¹
```


### å‰ç«¯PRPæ ‡å‡†æ¨¡æ¿ (v2.0)

```yaml
---
# å‰ç«¯PRPæ¨¡æ¿ (ä¸¥æ ¼éµå¾ª)
title: "TASK0X: [å‰ç«¯åŠŸèƒ½æè¿°]"
primary_role: "frontend"
technology_stack: "Next.js 14 + App Router + Supabase Client"
mcp_tools: "Magic (UIç»„ä»¶) + Context7 (æ¨¡å¼) + Playwright (E2E)"
api_dependency: "[å¼•ç”¨APIdocs/APIv1.mdç«¯ç‚¹]"
---

## éœ€æ±‚å¿«ç…§ (Requirements Snapshot)
- **åŠŸèƒ½ç›®æ ‡**: [ä»INITIAL.mdæå–çš„å‰ç«¯åŠŸèƒ½éœ€æ±‚]
- **UI/UXè¦æ±‚**: [è®¾è®¡ç³»ç»Ÿåˆè§„ + WCAGæ— éšœç¢æ ‡å‡†]
- **æŠ€æœ¯çº¦æŸ**: [å‰ç«¯æ€§èƒ½é¢„ç®— + å“åº”å¼è®¾è®¡è¦æ±‚]
- **æˆåŠŸæ ‡å‡†**: [ä»INITIAL.mdæå–çš„å‰ç«¯éªŒæ”¶æ ‡å‡†]
- **éç›®æ ‡èŒƒå›´**: æ˜ç¡®ä¸åŒ…å«åç«¯å¼€å‘å·¥ä½œ

## ä¸»å®ç°è§’è‰²èŒè´£
**frontend persona** è´Ÿè´£ï¼š
- Next.js 14 + App Routerå¼€å‘
- Reactç»„ä»¶å®ç°å’ŒUIç³»ç»Ÿ
- Supabase Client SDKé›†æˆ
- UI/UXè®¾è®¡å®ç°å’Œæ— éšœç¢ä¼˜åŒ–
- å“åº”å¼è®¾è®¡å’Œæ€§èƒ½ä¼˜åŒ–

## ACDæ‰§è¡Œå¾ªç¯ (å‰ç«¯ç‰¹è‰²æµç¨‹)

### 1ï¸âƒ£ åˆ†æé˜¶æ®µ (Analyze) - frontend persona
**SuperClaudeå‘½ä»¤**: `/sc:analyze [ui-requirements] --persona-frontend --magic --c7`
- **MCPå·¥å…·é›†æˆ**: Magic(ä¸»è¦) + Context7(æ¨¡å¼) + Playwright(æµ‹è¯•)
- **åˆ†æä»»åŠ¡**: è®¾è®¡ç³»ç»Ÿæ£€ç´¢ã€UIç»„ä»¶æ¨¡å¼åˆ†æã€ç”¨æˆ·ä½“éªŒæµç¨‹
- **è®¾è®¡äº§å‡º**: todosè§„åˆ’ã€ç»„ä»¶æ¶æ„ã€UIè§„èŒƒã€ä¾èµ–è¯†åˆ«

### 2ï¸âƒ£ ç¼–ç é˜¶æ®µ (Code) - frontend persona 
**SuperClaudeå‘½ä»¤**: `/sc:implement [component] --persona-frontend --magic --ui-first`
- **å®ç°é‡ç‚¹**: Reactç»„ä»¶ + Next.jsé¡µé¢ + Supabase Clienté›†æˆ
- **è´¨é‡ç­–ç•¥**: UIä¼˜å…ˆæˆ–æµ‹è¯•é©±åŠ¨(æ ¹æ®é‡è¦æ€§é€‰æ‹©)
- **è´¨é‡é—¨æ§**: ç»„ä»¶åŠŸèƒ½éªŒè¯ã€è®¿é—®æ€§æµ‹è¯•ã€å“åº”å¼æ£€æŸ¥

### 3ï¸âƒ£ éƒ¨ç½²é˜¶æ®µ (Deploy) - frontend persona
**SuperClaudeå‘½ä»¤**: `/sc:test --e2e-focus --persona-frontend --play` + è´¨é‡éªŒè¯
- **æµ‹è¯•ç­–ç•¥**: E2Eç”¨æˆ·æµç¨‹>80%è¦†ç›–ç‡ï¼Œç»„ä»¶æµ‹è¯•>90%è¦†ç›–ç‡
- **ä¼˜åŒ–é‡ç‚¹**: æ€§èƒ½ä¼˜åŒ–ã€ç”¨æˆ·ä½“éªŒã€è·¨æµè§ˆå™¨å…¼å®¹æ€§
- **é›†æˆéªŒè¯**: APIé›†æˆã€æ•°æ®æµã€é”™è¯¯å¤„ç†

## APIä¾èµ–ç®¡ç†
- **ä¾èµ–API**: [å¼•ç”¨APIdocs/APIv1.mdå…·ä½“ç«¯ç‚¹]
- **é˜»å¡æ¡ä»¶**: [ç­‰å¾…åç«¯ CKP-1/CKP-2 æ£€æŸ¥ç‚¹]
- **éªŒè¯ç­–ç•¥**: APIå¯ç”¨æ€§æµ‹è¯•åå†è¿›è¡ŒUIå®ç°

## å‰ç«¯ä¸“å±è´¨é‡æ ‡å‡†
- **æ— éšœç¢æ€§**: WCAG 2.1 AAåˆè§„ (â‰¥ 90%åˆ†æ•°)
- **æ€§èƒ½é¢„ç®—**: <3s åŠ è½½æ—¶é—´, <1s äº¤äº’å“åº”
- **è®¾è®¡ç³»ç»Ÿ**: ç»„ä»¶åˆè§„æ€§éªŒè¯, å“åº”å¼è®¾è®¡æ ‡å‡†
- **è·¨æµè§ˆå™¨**: Chrome/Firefox/Safari/Edge å…¼å®¹æ€§éªŒè¯

## åç«¯åä½œæ¥å£
- **è¾“å…¥**: APIdocs/APIv1.mdè§„èŒƒ(æ¶ˆè´¹è€…è§’è‰²)
- **éªŒè¯**: CKPæ£€æŸ¥ç‚¹å‚ä¸å’ŒAPIé›†æˆéªŒè¯
- **åé¦ˆ**: å‰ç«¯é›†æˆé—®é¢˜å’ŒUXä¼˜åŒ–å»ºè®®

## AI Agentä¼°ç®— (v2.0ç®€åŒ–ä½“ç³»)
```yaml
æ­¥éª¤æ•°é‡: [4-10æ­¥]     # ACDå¾ªç¯ä¸­å…·ä½“æ“ä½œæ•°é‡
ä»£ç æ–‡ä»¶: [2-6ä¸ªæ–‡ä»¶]   # é¢„æœŸä¿®æ”¹æˆ–åˆ›å»ºçš„æ–‡ä»¶æ•°é‡  
è¿­ä»£è½®æ¬¡: [1-2è½®]      # å¼€å‘-æµ‹è¯•-ä¿®å¤å¾ªç¯æ¬¡æ•°
å¤æ‚åº¦: [ä½/ä¸­/é«˜]     # ç»„ä»¶å¤æ‚åº¦/é¡µé¢é›†æˆ/ç³»ç»Ÿçº§å½±å“
```
```

### PRPè´¨é‡æ§åˆ¶æ£€æŸ¥è¡¨

#### ç”Ÿæˆå‰éªŒè¯
```yaml
èŒè´£è¾¹ç•Œæ£€æŸ¥:
  â–¡ åç«¯PRPæ— å‰ç«¯æŠ€æœ¯æ ˆå¼•ç”¨
  â–¡ å‰ç«¯PRPæ— åç«¯æ•°æ®åº“æ“ä½œ
  â–¡ APIæ–‡æ¡£ç®¡ç†æƒé™æ­£ç¡®åˆ†é…
  â–¡ æŠ€æœ¯æ ˆé€‰æ‹©ç¬¦åˆå›¢é˜ŸèŒè´£

å†…å®¹å®Œæ•´æ€§æ£€æŸ¥:
  â–¡ Requirements SnapshotåŒ…å«å®Œæ•´ä¿¡æ¯
  â–¡ åŸå­ä»»åŠ¡åˆ†è§£æ¸…æ™°å…·ä½“
  â–¡ AI Agentä¼°ç®—åˆç†å¯è¡Œ
  â–¡ åä½œæ¥å£å®šä¹‰æ˜ç¡®

è´¨é‡æ ‡å‡†æ£€æŸ¥:
  â–¡ éªŒæ”¶æ ‡å‡†å¯æµ‹è¯•å¯éªŒè¯
  â–¡ ä¾èµ–å…³ç³»æ˜ç¡®æ ‡è¯†
  â–¡ é£é™©è¯„ä¼°å®Œæ•´å……åˆ†
  â–¡ æ—¶é—´ä¼°ç®—realistic
```

#### ç”Ÿæˆåå®¡æ ¸
```yaml
æ¶æ„åˆè§„å®¡æ ¸:
  â–¡ èŒè´£åˆ†å·¥ç¬¦åˆSupabase-FirståŸåˆ™
  â–¡ åä½œæ¨¡å¼éµå¾ªBackend-Firstæ—¶åº
  â–¡ APIä¾èµ–ç®¡ç†ç¬¦åˆå•ä¸€æ•°æ®æºåŸåˆ™
  â–¡ æŠ€æœ¯æ ˆé€‰æ‹©æ— è·¨ç•Œè¿è§„

å¯æ‰§è¡Œæ€§å®¡æ ¸:
  â–¡ åŸå­ä»»åŠ¡å¯ç‹¬ç«‹æ‰§è¡Œ
  â–¡ éªŒæ”¶æ ‡å‡†æ˜ç¡®å¯æµ‹
  â–¡ åä½œæ¥å£æ¸…æ™°å®šä¹‰
  â–¡ æ—¶é—´ä¼°ç®—åˆç†å¯è¡Œ
```

---

## ç¬¬å››é˜¶æ®µï¼šå®æ–½è¿ç§»è·¯çº¿å›¾

### å½“å‰çŠ¶æ€è¯Šæ–­

#### é—®é¢˜èµ„äº§æ¸…å•
```yaml
åç«¯é¡¹ç›®é—®é¢˜PRPs:
  TASK01.md: åŒ…å«Next.jså‰ç«¯é¡¹ç›®åˆ›å»º âŒ
  TASK03.md: Phase BåŒ…å«å‰ç«¯UIå¼€å‘ âŒ
  TASK04.md: è§’è‰²åˆ†é…åˆç† âœ…
  TASK05-09.md: éœ€è¦é‡æ–°å®¡æŸ¥èŒè´£è¾¹ç•Œ

å‰ç«¯é¡¹ç›®é—®é¢˜PRPs:  
  TASK03.md: ä¸»å®ç°è§’è‰²æ ‡è®°ä¸ºbackend âŒ
  TASK04.md: åŒ…å«å®Œæ•´åç«¯æ•°æ®åº“è®¾è®¡ âŒ
  TASK01.md: èŒè´£åˆ†é…åˆç† âœ…
  TASK05-09.md: éœ€è¦é‡æ–°å®¡æŸ¥å’Œä¿®æ­£
```

### è¿ç§»æ‰§è¡Œè®¡åˆ’

#### Phase A: ç´§æ€¥èŒè´£é‡æ–°åˆ†é… (ç«‹å³æ‰§è¡Œ)
```yaml
ç´§æ€¥é‡åˆ†é…ä»»åŠ¡:
  1. åç«¯TASK01.md â†’ ç§»é™¤Next.jséƒ¨åˆ†ï¼Œä¸“æ³¨Supabaseåç«¯
  2. åç«¯TASK03.md â†’ ç§»é™¤UIå¼€å‘ï¼Œä¸“æ³¨è®¤è¯API
  3. å‰ç«¯TASK03.md â†’ ä¿®æ­£ä¸»å®ç°è§’è‰²ä¸ºfrontend
  4. å‰ç«¯TASK04.md â†’ ç§»é™¤æ•°æ®åº“è®¾è®¡ï¼Œä¸“æ³¨UIé›†æˆ
  
æ‰§è¡Œæ—¶åº:
  Day 1: é‡æ–°åˆ†é…ç´§æ€¥ä»»åŠ¡ï¼Œåœæ­¢é”™è¯¯å¼€å‘
  Day 2-3: å„å›¢é˜Ÿé‡æ–°è§„åˆ’å½“å‰ä»»åŠ¡
  Day 4-5: åŸºäºæ­£ç¡®èŒè´£é‡æ–°å¼€å§‹å¼€å‘
```

#### Phase B: PRPæ ‡å‡†åŒ–é‡æ„ (1å‘¨å†…å®Œæˆ)
```yaml
é‡æ„èŒƒå›´:
  - æ‰€æœ‰TASK01-09.mdé‡æ–°ç”Ÿæˆ
  - åŸºäºé»„é‡‘æ³•åˆ™å’Œæ ‡å‡†æ¨¡æ¿
  - ç¡®ä¿èŒè´£è¾¹ç•Œæ¸…æ™°
  - å»ºç«‹åä½œæ£€æŸ¥ç‚¹æœºåˆ¶
  
æ‰§è¡Œæ–¹æ³•:
  1. ä½¿ç”¨æ ‡å‡†æ¨¡æ¿é‡æ–°ç”Ÿæˆæ‰€æœ‰PRP
  2. æ¯ä¸ªPRPå¿…é¡»é€šè¿‡è´¨é‡æ§åˆ¶æ£€æŸ¥è¡¨
  3. å»ºç«‹åä½œæ£€æŸ¥ç‚¹æ—¶é—´è¡¨
  4. é…ç½®APIæ–‡æ¡£ç®¡ç†æµç¨‹
```

#### Phase C: åä½œæµç¨‹å»ºç«‹ (2å‘¨å†…å®Œæˆ)
```yaml
å»ºç«‹æœºåˆ¶:
  1. APIæ–‡æ¡£ç®¡ç†æµç¨‹ (åç«¯ä¸»å¯¼)
  2. åä½œæ£€æŸ¥ç‚¹æ‰§è¡Œæœºåˆ¶ (å…±åŒéµå¾ª)
  3. é—®é¢˜æŠ¥å‘Šå’Œè§£å†³æµç¨‹ (å¿«é€Ÿå“åº”)
  4. è´¨é‡ä¿è¯è”åˆéªŒè¯ (æ ‡å‡†ç»Ÿä¸€)
  
å·¥å…·é…ç½®:
  - APIæ–‡æ¡£è‡ªåŠ¨åŒ–å·¥å…·
  - åä½œçŠ¶æ€ç›‘æ§ä»ªè¡¨æ¿
  - é—®é¢˜è¿½è¸ªå’Œè§£å†³ç³»ç»Ÿ
  - è´¨é‡æŒ‡æ ‡ç›‘æ§å·¥å…·
```

### é£é™©ç®¡æ§ä¸åº”æ€¥é¢„æ¡ˆ

#### é£é™©è¯†åˆ«ä¸è¯„çº§
```yaml
é«˜é£é™© (ç«‹å³å¤„ç†):
  - ç»§ç»­é”™è¯¯èŒè´£åˆ†å·¥ â†’ é¡¹ç›®å»¶æœŸ + è´¨é‡é—®é¢˜
  - APIæ–‡æ¡£åˆ†æ•£ç®¡ç† â†’ æ¥å£ä¸ä¸€è‡´ + é›†æˆå¤±è´¥
  - ç¼ºä¹åä½œæ£€æŸ¥ç‚¹ â†’ åæœŸé›†æˆå›°éš¾

ä¸­é£é™© (ç›‘æ§ç®¡ç†):
  - å›¢é˜Ÿæ²Ÿé€šæˆæœ¬å¢åŠ  â†’ æ—¶é—´é¢„ç®—è°ƒæ•´
  - å­¦ä¹ æ›²çº¿å½±å“è¿›åº¦ â†’ åŸ¹è®­å’Œæ”¯æŒè®¡åˆ’
  - å·¥å…·é“¾é€‚åº”æ—¶é—´ â†’ æŠ€æœ¯æ”¯æŒå®‰æ’

ä½é£é™© (æ¥å—ç®¡ç†):
  - åˆæœŸæ•ˆç‡è½»å¾®ä¸‹é™ â†’ æ­£å¸¸å­¦ä¹ è¿‡ç¨‹
  - æ–‡æ¡£ç»´æŠ¤å·¥ä½œé‡ â†’ é•¿æœŸæ”¶ç›Šæ˜¾è‘—
```

#### åº”æ€¥é¢„æ¡ˆ
```yaml
èŒè´£æ··ä¹±ç´§æ€¥å¤„ç†:
  æ£€æµ‹æœºåˆ¶: æ¯æ—¥PRP reviewæ£€æŸ¥èŒè´£è¾¹ç•Œ
  å¤„ç†æµç¨‹: ç«‹å³åœæ­¢ â†’ é‡æ–°åˆ†é… â†’ é‡æ–°è§„åˆ’ â†’ ç»§ç»­å¼€å‘
  æ¢å¤æ—¶é—´: 24å°æ—¶å†…å®Œæˆé‡æ–°åˆ†é…

APIæ–‡æ¡£å†²çªå¤„ç†:
  æ£€æµ‹æœºåˆ¶: APIç‰ˆæœ¬æ§åˆ¶å’Œå˜æ›´é€šçŸ¥
  å¤„ç†æµç¨‹: å†²çªè¯†åˆ« â†’ åç«¯å†³ç­– â†’ æ›´æ–°æ–‡æ¡£ â†’ å‰ç«¯é€‚é…
  æ¢å¤æ—¶é—´: 48å°æ—¶å†…è§£å†³APIå†²çª

åä½œæ£€æŸ¥ç‚¹å¤±è´¥:
  æ£€æµ‹æœºåˆ¶: æ£€æŸ¥ç‚¹æ—¶é—´åˆ°è¾¾è‡ªåŠ¨è§¦å‘éªŒè¯
  å¤„ç†æµç¨‹: é—®é¢˜è¯†åˆ« â†’ è´£ä»»å½’å± â†’ å¿«é€Ÿä¿®å¤ â†’ é‡æ–°éªŒè¯
  æ¢å¤æ—¶é—´: 72å°æ—¶å†…é€šè¿‡æ£€æŸ¥ç‚¹
```

---

## ç¬¬äº”é˜¶æ®µï¼šè‡ªåŠ¨åŒ–éªŒè¯å·¥å…·

### PRPè¾¹ç•Œæ£€æŸ¥è„šæœ¬

```bash
#!/bin/bash
# prp-boundary-validator.sh - PRPèŒè´£è¾¹ç•Œè‡ªåŠ¨æ£€æŸ¥å·¥å…·

validate_backend_prp() {
    local prp_file="$1"
    local violations=0
    
    # æ£€æŸ¥ç¦æ­¢çš„å‰ç«¯æŠ€æœ¯æ ˆ
    if grep -i "next\.js\|react\|å‰ç«¯\|UI\|component" "$prp_file"; then
        echo "âŒ åç«¯PRPåŒ…å«å‰ç«¯æŠ€æœ¯æ ˆ: $prp_file"
        ((violations++))
    fi
    
    # æ£€æŸ¥å¿…éœ€çš„åç«¯æŠ€æœ¯æ ˆ
    if ! grep -i "edge functions\|postgresql\|supabase" "$prp_file"; then
        echo "âš ï¸ åç«¯PRPç¼ºå°‘åç«¯æŠ€æœ¯æ ˆ: $prp_file"
        ((violations++))
    fi
    
    return $violations
}

validate_frontend_prp() {
    local prp_file="$1"
    local violations=0
    
    # æ£€æŸ¥ç¦æ­¢çš„åç«¯æŠ€æœ¯æ ˆ
    if grep -i "postgresql\|rls\|edge functions\|æ•°æ®åº“è®¾è®¡" "$prp_file"; then
        echo "âŒ å‰ç«¯PRPåŒ…å«åç«¯æŠ€æœ¯æ ˆ: $prp_file"
        ((violations++))
    fi
    
    # æ£€æŸ¥å¿…éœ€çš„å‰ç«¯æŠ€æœ¯æ ˆ
    if ! grep -i "next\.js\|react\|supabase client" "$prp_file"; then
        echo "âš ï¸ å‰ç«¯PRPç¼ºå°‘å‰ç«¯æŠ€æœ¯æ ˆ: $prp_file"
        ((violations++))
    fi
    
    return $violations
}

# ä¸»éªŒè¯æµç¨‹
echo "ğŸ” å¼€å§‹PRPèŒè´£è¾¹ç•ŒéªŒè¯..."

backend_violations=0
frontend_violations=0

# éªŒè¯åç«¯PRPs
for prp in prescription-platform-backend/PRPs/TASK*.md; do
    if [[ -f "$prp" ]]; then
        validate_backend_prp "$prp"
        backend_violations=$((backend_violations + $?))
    fi
done

# éªŒè¯å‰ç«¯PRPs
for prp in prescription-platform-frontend/PRPs/TASK*.md; do
    if [[ -f "$prp" ]]; then
        validate_frontend_prp "$prp"
        frontend_violations=$((frontend_violations + $?))
    fi
done

# è¾“å‡ºéªŒè¯ç»“æœ
total_violations=$((backend_violations + frontend_violations))
if [[ $total_violations -eq 0 ]]; then
    echo "âœ… æ‰€æœ‰PRPèŒè´£è¾¹ç•ŒéªŒè¯é€šè¿‡"
else
    echo "ğŸš¨ å‘ç° $total_violations ä¸ªèŒè´£è¾¹ç•Œè¿è§„ï¼Œéœ€è¦ç«‹å³ä¿®æ­£"
    exit 1
fi
```

### APIæ–‡æ¡£ä¸€è‡´æ€§æ£€æŸ¥

```bash
#!/bin/bash
# api-consistency-checker.sh - APIæ–‡æ¡£ä¸€è‡´æ€§éªŒè¯å·¥å…·

check_api_centralization() {
    echo "ğŸ” æ£€æŸ¥APIæ–‡æ¡£ä¸­å¿ƒåŒ–åˆè§„æ€§..."
    
    # æ£€æŸ¥APIæ–‡æ¡£æ˜¯å¦åªå­˜åœ¨äºåç«¯é¡¹ç›®
    backend_api_exists=$(find prescription-platform-backend/APIdocs -name "APIv1.md" 2>/dev/null | wc -l)
    frontend_api_exists=$(find prescription-platform-frontend -name "*API*.md" 2>/dev/null | wc -l)
    
    if [[ $backend_api_exists -ne 1 ]]; then
        echo "âŒ åç«¯é¡¹ç›®APIæ–‡æ¡£ä¸å­˜åœ¨æˆ–é‡å¤"
        return 1
    fi
    
    if [[ $frontend_api_exists -gt 0 ]]; then
        echo "âŒ å‰ç«¯é¡¹ç›®åŒ…å«APIæ–‡æ¡£ï¼Œè¿åä¸­å¿ƒåŒ–åŸåˆ™"
        return 1
    fi
    
    echo "âœ… APIæ–‡æ¡£ä¸­å¿ƒåŒ–æ£€æŸ¥é€šè¿‡"
    return 0
}

check_api_references() {
    echo "ğŸ” æ£€æŸ¥PRPä¸­çš„APIå¼•ç”¨è§„èŒƒ..."
    
    # æ£€æŸ¥å‰ç«¯PRPæ˜¯å¦æ­£ç¡®å¼•ç”¨APIæ–‡æ¡£
    for prp in prescription-platform-frontend/PRPs/TASK*.md; do
        if [[ -f "$prp" ]]; then
            if grep -q "APIdocs/APIv1.md" "$prp"; then
                echo "âœ… $prp æ­£ç¡®å¼•ç”¨APIæ–‡æ¡£"
            else
                echo "âš ï¸ $prp ç¼ºå°‘APIæ–‡æ¡£å¼•ç”¨"
            fi
        fi
    done
}

# æ‰§è¡Œæ£€æŸ¥
check_api_centralization && check_api_references
```

---

## ç¬¬å…­é˜¶æ®µï¼šè´¨é‡ä¿è¯ä¸æŒç»­æ”¹è¿›

### åä½œè´¨é‡æŒ‡æ ‡

```yaml
APIæ–‡æ¡£è´¨é‡æŒ‡æ ‡:
  å®Œæ•´æ€§: 100% APIç«¯ç‚¹æ–‡æ¡£åŒ–
  å‡†ç¡®æ€§: 95% APIå®é™…è¡Œä¸ºåŒ¹é…æ–‡æ¡£
  åŠæ—¶æ€§: 24å°æ—¶å†…æ›´æ–°APIå˜æ›´
  å¯ç”¨æ€§: å‰ç«¯å›¢é˜ŸAPIç†è§£åº¦ >90%

åä½œæ•ˆç‡æŒ‡æ ‡:
  æ£€æŸ¥ç‚¹é€šè¿‡ç‡: >95% é¦–æ¬¡é€šè¿‡
  é—®é¢˜è§£å†³æ—¶é—´: <48å°æ—¶å¹³å‡è§£å†³
  èŒè´£è¾¹ç•Œè¿è§„: 0å®¹å¿åº¦
  é›†æˆæˆåŠŸç‡: >98% APIé›†æˆæˆåŠŸ

å›¢é˜Ÿåä½œè´¨é‡:
  æ²Ÿé€šå“åº”æ—¶é—´: <4å°æ—¶å·¥ä½œæ—¥å“åº”
  é—®é¢˜è§£å†³æ—¶æ•ˆ: <24å°æ—¶è§£å†³é˜»å¡é—®é¢˜
  æ–‡æ¡£åŒæ­¥é¢‘ç‡: æ¯æ—¥åŒæ­¥çŠ¶æ€æ›´æ–°
  çŸ¥è¯†å…±äº«æ•ˆæœ: å›¢é˜ŸæŠ€èƒ½é‡å åº¦ >30%
```

### æŒç»­æ”¹è¿›æœºåˆ¶

```yaml
æ¯å‘¨å›é¡¾æœºåˆ¶:
  åä½œè´¨é‡è¯„ä¼°: æ£€æŸ¥ç‚¹é€šè¿‡æƒ…å†µåˆ†æ
  é—®é¢˜æ¨¡å¼è¯†åˆ«: é‡å¤é—®é¢˜æ ¹å› åˆ†æ
  æµç¨‹ä¼˜åŒ–å»ºè®®: åŸºäºå®é™…æ‰§è¡Œæ•°æ®æ”¹è¿›
  å›¢é˜Ÿåé¦ˆæ”¶é›†: æµç¨‹æ˜“ç”¨æ€§å’Œæ•ˆç‡åé¦ˆ

æ¯æœˆæ¶æ„å®¡æŸ¥:
  èŒè´£è¾¹ç•Œå®¡æŸ¥: ç¡®ä¿æ— è§’è‰²æ··æ·†
  æŠ€æœ¯æ ˆæ¼”è¿›: è¯„ä¼°æ–°æŠ€æœ¯å¼•å…¥éœ€æ±‚
  åä½œæ¨¡å¼ä¼˜åŒ–: åŸºäºæ•ˆç‡æ•°æ®è°ƒæ•´æµç¨‹
  æ–‡æ¡£è´¨é‡æå‡: æ–‡æ¡£ä½¿ç”¨æ•ˆæœè¯„ä¼°æ”¹è¿›

å­£åº¦æˆ˜ç•¥å¯¹é½:
  ä¸šåŠ¡ç›®æ ‡å¯¹é½: ç¡®ä¿æŠ€æœ¯å®æ–½æ”¯æŒä¸šåŠ¡ç›®æ ‡
  æ¶æ„æ¼”è¿›è§„åˆ’: æŠ€æœ¯å€ºåŠ¡ç®¡ç†å’Œæ¶æ„å‡çº§
  å›¢é˜Ÿèƒ½åŠ›å»ºè®¾: æŠ€èƒ½å‘å±•å’ŒçŸ¥è¯†ç®¡ç†
  ç«äº‰ä¼˜åŠ¿ç»´æŒ: æŠ€æœ¯å·®å¼‚åŒ–å’Œåˆ›æ–°èƒ½åŠ›
```

---

## ç¬¬ä¸ƒé˜¶æ®µï¼šåŸ¹è®­ä¸æ¨å¹¿

### å›¢é˜ŸåŸ¹è®­è®¡åˆ’


#### å‰ç«¯å›¢é˜ŸåŸ¹è®­é‡ç‚¹
```yaml
Supabase Clientç²¾é€š:
  å®æ—¶æ•°æ®è®¢é˜…æœºåˆ¶
  æ–‡ä»¶ä¸Šä¼ å’Œå­˜å‚¨é›†æˆ
  å®¢æˆ·ç«¯ç¼“å­˜ç­–ç•¥
  ç¦»çº¿åŠŸèƒ½å®ç°

Next.jsæ€§èƒ½ä¼˜åŒ–:
  App Routeræœ€ä½³å®è·µ
  ä»£ç åˆ†å‰²å’Œæ‡’åŠ è½½
  SSR/SSGé€‰æ‹©ç­–ç•¥
  SEOå’Œæ€§èƒ½ä¼˜åŒ–

UI/UXä¸“ä¸šåŒ–:
  æ— éšœç¢è®¿é—®å®ç°
  å“åº”å¼è®¾è®¡æœ€ä½³å®è·µ
  ç”¨æˆ·ä½“éªŒæµ‹è¯•æ–¹æ³•
  è®¾è®¡ç³»ç»Ÿå»ºè®¾ç»´æŠ¤
```

### çŸ¥è¯†ç®¡ç†ç³»ç»Ÿ

```yaml
æ–‡æ¡£ä½“ç³»ç»´æŠ¤:
  æ¶æ„æ–‡æ¡£: å®šæœŸæ›´æ–°å’Œå®¡æŸ¥
  æœ€ä½³å®è·µ: æˆåŠŸæ¡ˆä¾‹æ€»ç»“åˆ†äº«
  é—®é¢˜è§£å†³: å¸¸è§é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆåº“
  åŸ¹è®­ææ–™: å†…éƒ¨åŸ¹è®­èµ„æºç®¡ç†

ç»éªŒåˆ†äº«æœºåˆ¶:
  æŠ€æœ¯åˆ†äº«ä¼š: æ¯å‘¨æŠ€æœ¯ç»éªŒåˆ†äº«
  ä»£ç å®¡æŸ¥: è·¨å›¢é˜Ÿä»£ç å­¦ä¹ äº¤æµ
  é—®é¢˜å¤ç›˜: é‡å¤§é—®é¢˜è§£å†³è¿‡ç¨‹åˆ†äº«
  åˆ›æ–°å®è·µ: æ–°æŠ€æœ¯å’Œæ–¹æ³•æ¢ç´¢åˆ†äº«
```

---

## é™„å½•ï¼šå®æ–½å·¥å…·å’Œæ¨¡æ¿


### B. åä½œçŠ¶æ€ç›‘æ§å·¥å…·

```typescript
// collaboration-monitor.ts - å‰åç«¯åä½œçŠ¶æ€å®æ—¶ç›‘æ§

interface CheckpointStatus {
  id: string;
  name: string;
  status: 'pending' | 'in_progress' | 'completed' | 'blocked';
  backend_ready: boolean;
  frontend_ready: boolean;
  api_doc_updated: boolean;
  last_update: Date;
}

class CollaborationMonitor {
  private checkpoints: CheckpointStatus[] = [];
  
  async validateCheckpoint(checkpointId: string): Promise<boolean> {
    const checkpoint = this.checkpoints.find(cp => cp.id === checkpointId);
    if (!checkpoint) return false;
    
    // éªŒè¯APIæ–‡æ¡£æ›´æ–°çŠ¶æ€
    const apiDocStatus = await this.checkApiDocumentStatus();
    
    // éªŒè¯åç«¯å‡†å¤‡çŠ¶æ€
    const backendStatus = await this.checkBackendReadiness(checkpointId);
    
    // éªŒè¯å‰ç«¯å‡†å¤‡çŠ¶æ€  
    const frontendStatus = await this.checkFrontendReadiness(checkpointId);
    
    checkpoint.api_doc_updated = apiDocStatus;
    checkpoint.backend_ready = backendStatus;
    checkpoint.frontend_ready = frontendStatus;
    
    // æ›´æ–°æ£€æŸ¥ç‚¹çŠ¶æ€
    if (apiDocStatus && backendStatus && frontendStatus) {
      checkpoint.status = 'completed';
      await this.notifyTeams(checkpointId, 'success');
      return true;
    } else {
      checkpoint.status = 'blocked';
      await this.notifyTeams(checkpointId, 'blocked');
      return false;
    }
  }
  
  private async checkApiDocumentStatus(): Promise<boolean> {
    // æ£€æŸ¥APIdocs/APIv1.mdæœ€è¿‘æ›´æ–°æ—¶é—´
    // éªŒè¯APIæ–‡æ¡£å®Œæ•´æ€§å’Œæ ¼å¼
    return true; // å®ç°å…·ä½“æ£€æŸ¥é€»è¾‘
  }
  
  private async notifyTeams(checkpointId: string, status: string): Promise<void> {
    // é€šçŸ¥ç›¸å…³å›¢é˜Ÿæ£€æŸ¥ç‚¹çŠ¶æ€å˜æ›´
    console.log(`ğŸ“¢ æ£€æŸ¥ç‚¹ ${checkpointId} çŠ¶æ€æ›´æ–°: ${status}`);
  }
}
```

---

## ç¬¬å…«é˜¶æ®µï¼šæˆåŠŸæ ‡å‡†ä¸è¯„ä¼°æŒ‡æ ‡

### å®æ–½æˆåŠŸæ ‡å‡†

#### çŸ­æœŸæˆåŠŸæŒ‡æ ‡ (4å‘¨å†…è¾¾æˆ)
```yaml
èŒè´£è¾¹ç•Œæ¸…æ™°åº¦:
  ç›®æ ‡: 100% PRPèŒè´£è¾¹ç•Œåˆè§„
  æµ‹é‡: è‡ªåŠ¨åŒ–è¾¹ç•Œæ£€æŸ¥é€šè¿‡ç‡
  éªŒè¯: é›¶èŒè´£æ··æ·†äº‹ä»¶å‘ç”Ÿ

APIæ–‡æ¡£ä¸­å¿ƒåŒ–:
  ç›®æ ‡: å•ä¸€APIæ–‡æ¡£æºå»ºç«‹
  æµ‹é‡: APIå˜æ›´100%è®°å½•åœ¨APIv1_log.md
  éªŒè¯: å‰ç«¯å›¢é˜ŸAPIç†è§£åº¦ >95%

åä½œæ•ˆç‡æå‡:
  ç›®æ ‡: æ£€æŸ¥ç‚¹é€šè¿‡ç‡ >90%
  æµ‹é‡: å¹³å‡æ£€æŸ¥ç‚¹ç­‰å¾…æ—¶é—´ <24å°æ—¶
  éªŒè¯: å›¢é˜Ÿæ²Ÿé€šæˆæœ¬é™ä½ >30%
```

#### ä¸­æœŸæˆåŠŸæŒ‡æ ‡ (8å‘¨å†…è¾¾æˆ)
```yaml
å¼€å‘æ•ˆç‡æå‡:
  ç›®æ ‡: æ•´ä½“å¼€å‘æ•ˆç‡æå‡ >40%
  æµ‹é‡: ä»»åŠ¡å®Œæˆæ—¶é—´å¯¹æ¯”åŸºçº¿
  éªŒè¯: å›¢é˜Ÿæ»¡æ„åº¦è°ƒæŸ¥ >85%

è´¨é‡ä¿è¯æ•ˆæœ:
  ç›®æ ‡: ç¼ºé™·ç‡é™ä½ >50%
  æµ‹é‡: æµ‹è¯•ç”¨ä¾‹é€šè¿‡ç‡ >98%
  éªŒè¯: ç”¨æˆ·éªŒæ”¶æµ‹è¯•æ»¡æ„åº¦ >90%

ç³»ç»Ÿé›†æˆç¨³å®šæ€§:
  ç›®æ ‡: APIé›†æˆæˆåŠŸç‡ >98%
  æµ‹é‡: é›†æˆæµ‹è¯•å¤±è´¥ç‡ <2%
  éªŒè¯: ç”Ÿäº§ç¯å¢ƒç¨³å®šè¿è¡Œ >99.5%
```

#### é•¿æœŸæˆåŠŸæŒ‡æ ‡ (6ä¸ªæœˆå†…è¾¾æˆ)
```yaml
æ¶æ„æ¼”è¿›èƒ½åŠ›:
  ç›®æ ‡: æ–°åŠŸèƒ½å¼€å‘æ•ˆç‡æŒç»­æå‡
  æµ‹é‡: æ–°åŠŸèƒ½å¼€å‘å‘¨æœŸç¼©çŸ­ >60%
  éªŒè¯: æŠ€æœ¯å€ºåŠ¡æ§åˆ¶åœ¨å¯æ¥å—èŒƒå›´

å›¢é˜Ÿåä½œæˆç†Ÿåº¦:
  ç›®æ ‡: å›¢é˜Ÿé—´åä½œæ— æ‘©æ“¦
  æµ‹é‡: åä½œé—®é¢˜å‘ç”Ÿé¢‘ç‡ <1æ¬¡/æœˆ
  éªŒè¯: å›¢é˜ŸçŸ¥è¯†å…±äº«å’ŒæŠ€èƒ½æå‡

ä¸šåŠ¡ä»·å€¼äº¤ä»˜:
  ç›®æ ‡: æŠ€æœ¯å®æ–½æ”¯æŒä¸šåŠ¡ç›®æ ‡è¾¾æˆ
  æµ‹é‡: åŠŸèƒ½äº¤ä»˜è´¨é‡å’Œç”¨æˆ·æ»¡æ„åº¦
  éªŒè¯: å•†ä¸šæŒ‡æ ‡å’ŒæŠ€æœ¯æŒ‡æ ‡æ­£ç›¸å…³
```

---

## æ€»ç»“ä¸è¡ŒåŠ¨å‘¼å

### æ ¸å¿ƒä»·å€¼é‡ç”³

é€šè¿‡å®æ–½æœ¬æŒ‡å—ï¼Œé¡¹ç›®å°†è·å¾—ï¼š

1. **æ¸…æ™°çš„èŒè´£è¾¹ç•Œ** - æœç»è§’è‰²æ··æ·†ï¼Œæå‡å¼€å‘æ•ˆç‡
2. **æ ‡å‡†åŒ–çš„åä½œæµç¨‹** - Backend-Firstå¥‘çº¦é©±åŠ¨ï¼Œç¡®ä¿è´¨é‡äº¤ä»˜  
3. **è‡ªåŠ¨åŒ–çš„è´¨é‡ä¿è¯** - å·¥å…·åŒ–éªŒè¯ï¼Œé™ä½äººä¸ºé”™è¯¯
4. **å¯æŒç»­çš„æ”¹è¿›æœºåˆ¶** - æ•°æ®é©±åŠ¨çš„æµç¨‹ä¼˜åŒ–

### ç«‹å³æ‰§è¡Œå»ºè®®

#### ç´§æ€¥å¤„ç† (24å°æ—¶å†…)
```yaml
ç«‹å³åœæ­¢:
  - åœæ­¢æ‰€æœ‰åŸºäºé”™è¯¯PRPçš„å¼€å‘å·¥ä½œ
  - æš‚åœä»»ä½•è·¨èŒè´£è¾¹ç•Œçš„ä»»åŠ¡æ‰§è¡Œ
  - å†»ç»“å½“å‰ä¸åˆè§„çš„ä»»åŠ¡åˆ†é…

ç«‹å³å¯åŠ¨:
  - æ‰§è¡ŒPRPè¾¹ç•Œæ£€æŸ¥è„šæœ¬éªŒè¯ç°çŠ¶
  - é‡æ–°åˆ†é…ç´§æ€¥ä»»åŠ¡ç»™æ­£ç¡®å›¢é˜Ÿ
  - å»ºç«‹APIæ–‡æ¡£ä¸­å¿ƒåŒ–ç®¡ç†æµç¨‹
  - é…ç½®åä½œçŠ¶æ€ç›‘æ§å·¥å…·
```

#### ä¸€å‘¨è¡ŒåŠ¨è®¡åˆ’
```yaml
Day 1-2: ç´§æ€¥é‡åˆ†é…å’ŒåœæŸ
  - å›¢é˜Ÿä¼šè®®ç¡®è®¤æ–°åä½œæ¨¡å‹
  - é‡æ–°åˆ†é…å½“å‰è¿›è¡Œä¸­çš„ä»»åŠ¡
  - å»ºç«‹APIæ–‡æ¡£ç®¡ç†æµç¨‹

Day 3-4: PRPæ ‡å‡†åŒ–é‡æ„
  - ä½¿ç”¨æ ‡å‡†æ¨¡æ¿é‡æ–°ç”Ÿæˆæ‰€æœ‰PRP
  - éªŒè¯æ–°PRPçš„èŒè´£è¾¹ç•Œåˆè§„æ€§
  - å»ºç«‹åä½œæ£€æŸ¥ç‚¹æ—¶é—´è¡¨

Day 5-7: å·¥å…·éƒ¨ç½²å’Œæµç¨‹éªŒè¯
  - éƒ¨ç½²è‡ªåŠ¨åŒ–éªŒè¯å·¥å…·
  - æ‰§è¡Œç¬¬ä¸€ä¸ªå®Œæ•´æ£€æŸ¥ç‚¹éªŒè¯
  - æ”¶é›†å›¢é˜Ÿåé¦ˆå’Œæµç¨‹ä¼˜åŒ–å»ºè®®
```

### é•¿æœŸå‘å±•å±•æœ›

æœ¬æŒ‡å—å»ºç«‹çš„åä½œæ¡†æ¶å°†æ”¯æŒé¡¹ç›®é•¿æœŸå‘å±•ï¼š

- **æ‰©å±•æ€§**: æ”¯æŒæ–°å›¢é˜Ÿæˆå‘˜å¿«é€Ÿèå…¥
- **å¯ç»´æŠ¤æ€§**: æ¸…æ™°çš„æ–‡æ¡£å’Œæµç¨‹æ ‡å‡†
- **è´¨é‡ä¿è¯**: è‡ªåŠ¨åŒ–éªŒè¯å’ŒæŒç»­æ”¹è¿›
- **ä¸šåŠ¡å¯¹é½**: æŠ€æœ¯å®æ–½æ”¯æŒä¸šåŠ¡ç›®æ ‡è¾¾æˆ

é€šè¿‡ä¸¥æ ¼éµå¾ªæœ¬æŒ‡å—ï¼Œå‰åç«¯å›¢é˜Ÿå°†å»ºç«‹é«˜æ•ˆã€ç¨³å®šã€å¯æŒç»­çš„åä½œå…³ç³»ï¼Œä¸ºé¡¹ç›®æˆåŠŸäº¤ä»˜å¥ å®šåšå®åŸºç¡€ã€‚

---

**æŒ‡å—çŠ¶æ€**: âœ… v2.0ç‰ˆæœ¬ | ğŸ“Š 95%ç›¸ç¬¦åº¦éªŒè¯é€šè¿‡ | ğŸš€ å‰ç«¯å›¢é˜ŸPRPç”Ÿæˆå°±ç»ª